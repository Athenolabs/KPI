[
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Ferro Pipeline", 
  "modified": "2015-12-18 20:16:16.683030", 
  "name": "Ferro Pipeline-Client", 
  "script": "frappe.ui.form.on(\"Ferro Pipeline\",\"customer_name\",function(frm){\n\tfrappe.call({\n\t\tmethod:\"kpi.kpi.doctype.ferro_pipeline.ferro_pipeline.get_address\",\n\t\targs: {\n\t\t\t\t\"customer\":frm.doc.customer_name\n\t\t},\n\t\tcallback: function(r) {\n\t\t\tif(r.message){\n\t\t\t\tfrm.doc.customer_location_city=r.message[0][0];\n\t\t\t\tfrm.doc.customer_location_state=r.message[0][1];\n\t\t\t\tfrm.doc.customer_email=r.message[0][2];\n\t\t\t\tfrm.doc.customer_contact_landline=r.message[0][3];\n\t\t\t\tfield=[\"customer_location_city\",\"customer_location_state\",\"customer_email\",\"customer_contact_landline\"]\n\t\t\t\trefresh_field(field)\n\t\t\t}\n\t\t}\n\t})\n});\nfrappe.ui.form.on(\"Ferro Pipeline\", \"validate\", function(frm, cdt, cdn) {\n    var probabilty = frm.doc.deal_value*frm.doc.probabilty_percentage/100;\n    cur_frm.set_value(\"probabilty\", probabilty);\n\n});\nfrappe.ui.form.on(\"Ferro Pipeline\", \"lead_date\", function(frm, cdt, cdn) {\n\tfrappe.call({\n \tmethod:\"kpi.kpi.doctype.ferro_pipeline.ferro_pipeline.get_week_of_year\",\n\targs: {\n\t\t\t\t\"date\":frm.doc.lead_date\n\t\t\t},\n\tcallback: function(r) {\n\n\t\t\tif(r.message){\n\t\t\t\tfrm.doc.week_of_year=r.message;\nfield=[\"week_of_year\"]\nrefresh_field(field)\n\t\t\t}\n\t\t}\n});\n});", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Ferro OrderFU", 
  "modified": "2015-12-18 20:18:21.004323", 
  "name": "Ferro OrderFU-Client", 
  "script": "cur_frm.cscript.custom_refresh = function(doc) {\n    if(user_roles.indexOf(\"your_role\" != -1)){\n         cur_frm.set_df_property(\"customer_name\", \"read_only\", doc.__islocal ? 0 : 1);\n cur_frm.set_df_property(\"customer_contact_person\", \"read_only\", doc.__islocal ? 0 : 1);\n cur_frm.set_df_property(\"customer_location_state\", \"read_only\", doc.__islocal ? 0 : 1);\n cur_frm.set_df_property(\"customer_contact_landline\", \"read_only\", doc.__islocal ? 0 : 1);\n cur_frm.set_df_property(\"customer_email\", \"read_only\", doc.__islocal ? 0 : 1);\n cur_frm.set_df_property(\"discount\", \"read_only\", doc.__islocal ? 0 : 1);\n         //FIELD BY FIELD IN THE DOCTYPE\n    }\n}", 
  "script_type": "Client"
 }
]